{{#each projects}}
{{this.name}}

<div class="text-center">
  <h2>{{name}}</h2>
  <p>{{description}}</p>
  <p>Created by {{user.name}} on {{format_date date_created}}</p>
  <p>
    <button id="likeButton-{{this.id}}" class="btn btn-primary">Like this Post</button>
    <button id="dislikeButton-{{this.id}}" class="btn btn-danger">Dislike this Post</button>
  </p>
  <p>
    <span id="likeCount-{{this.id}}">0</span> people liked this post.
    <span id="dislikeCount-{{this.id}}">0</span> people disliked this post.
  </p>
</div>

<!-- JavaScript code -->
<script>
  // Initialize the like and dislike counts for this project
  let likeCount_{{this.id}} = 0;
  let dislikeCount_{{this.id}} = 0;
  let isLiked_{{this.id}} = false;
  let isDisliked_{{this.id}} = false;

  // Add an event listener to the like button
  document.getElementById('likeButton-{{this.id}}').addEventListener('click', function() {
    if (!isLiked_{{this.id}}) {
      likeCount_{{this.id}}++;
      isLiked_{{this.id}} = true;
    } else {
      likeCount_{{this.id}}--;
      isLiked_{{this.id}} = false;
    }

    document.getElementById('likeCount-{{this.id}}').textContent = likeCount_{{this.id}};
    document.getElementById('likeButton-{{this.id}}').classList.toggle('active');
    document.getElementById('dislikeButton-{{this.id}}').classList.remove('active');
    isDisliked_{{this.id}} = false;
  });

  // Add an event listener to the dislike button
  document.getElementById('dislikeButton-{{this.id}}').addEventListener('click', function() {
    if (!isDisliked_{{this.id}}) {
      dislikeCount_{{this.id}}++;
      isDisliked_{{this.id}} = true;
    } else {
      dislikeCount_{{this.id}}--;
      isDisliked_{{this.id}} = false;
    }

    document.getElementById('dislikeCount-{{this.id}}').textContent = dislikeCount_{{this.id}};
    document.getElementById('dislikeButton-{{this.id}}').classList.toggle('active');
    document.getElementById('likeButton-{{this.id}}').classList.remove('active');
    isLiked_{{this.id}} = false;
  });
</script>
{{/each}}
